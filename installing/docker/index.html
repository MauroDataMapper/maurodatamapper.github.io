
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.ico">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.1.1">
    
    
      
        <title>Docker Install - Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.9299cb39.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ef6f36e2.min.css">
        
          
          
          <meta name="theme-color" content="">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito+Sans:300,400,400i,700%7CNunito+Sans&display=fallback">
        <style>:root{--md-text-font-family:"Nunito Sans";--md-code-font-family:"Nunito Sans"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/extra.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="primary" data-md-color-accent="accent">
  
    
    <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#system-requirements" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <!--
  Copyright (c) 2016-2021 Martin Donath <martin.donath@squidfunk.com>
  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:
  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.
  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Header -->
<header class="md-header" data-md-component="header">
    <nav
            class="md-header-nav md-header__inner md-grid"
            aria-label="Header"
    >

        <!-- Link to home -->
        <a href="../.." title="Documentation" class="md-header-nav__button md-logo" aria-label="Documentation">
            
  <img src="../../assets/images/logo.png" alt="logo">

        </a>

        <!-- Button to open drawer -->
        <label class="md-header__button md-icon" for="__drawer">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
        </label>

        <!-- Header title -->
        <div class="md-header__title" data-md-component="header-title">
            <div class="md-header__ellipsis">
                <div class="md-header__topic">
          <span class="md-ellipsis">
            <!-- Documentation -->
          </span>
                </div>
                <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            <!-- 
              Docker Install
             -->
          </span>
                </div>
            </div>
        </div>

        <!-- Color palette -->
        

        <!-- Site language selector -->
        

        <!-- Button to open search modal -->
        
        <label class="md-header__button md-icon" for="__search">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        </label>

        <!-- Search interface -->
        
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        

        <!-- Repository information -->
        
    </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Documentation" class="md-nav__button md-logo" aria-label="Documentation" data-md-component="logo">
      
  <img src="../../assets/images/logo.png" alt="logo">

    </a>
    Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      <label class="md-nav__link" for="__nav_2">
        About
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="About" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          About
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../about/introduction/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../about/history/" class="md-nav__link">
        History
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../about/research/" class="md-nav__link">
        Research
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../about/mauro/" class="md-nav__link">
        Mauro
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../about/release-notes/" class="md-nav__link">
        Release Notes
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../about/development-roadmap/" class="md-nav__link">
        Development Roadmap
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        Using Mauro
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Using Mauro" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Using Mauro
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1" type="checkbox" id="__nav_3_1" >
      
      <label class="md-nav__link" for="__nav_3_1">
        User Guides
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="User Guides" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          User Guides
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guides/introduction/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guides/create-a-data-model/create-a-data-model/" class="md-nav__link">
        Create a Data Model
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guides/document-a-dataset/document-a-dataset/" class="md-nav__link">
        Document a Dataset
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guides/exporting-data-models/exporting-data-models/" class="md-nav__link">
        Exporting Data Models
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guides/import-data-model-from-excel/import-data-model-from-excel/" class="md-nav__link">
        Import a Data Model from Excel
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guides/how-to-search/how-to-search/" class="md-nav__link">
        How to search
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guides/add-a-semantic-link/semantic-links/" class="md-nav__link">
        Semantic links
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guides/publish-subscribe/publish-subscribe/" class="md-nav__link">
        Publish / Subscribe
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guides/user-profile/user-profile/" class="md-nav__link">
        User profile
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guides/admin-functionality/admin-functionality/" class="md-nav__link">
        Admin functionality
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" type="checkbox" id="__nav_3_2" >
      
      <label class="md-nav__link" for="__nav_3_2">
        Tutorials
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Tutorials" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          Tutorials
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/introduction/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/semantic-links/" class="md-nav__link">
        Semantic Links
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../glossary/glossary/" class="md-nav__link">
        Glossary
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      <label class="md-nav__link" for="__nav_4">
        Installing and Administration
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Installing and Administration" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Installing and Administration
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_1" type="checkbox" id="__nav_4_1" checked>
      
      <label class="md-nav__link" for="__nav_4_1">
        Installation
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Installation" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_1">
          <span class="md-nav__icon md-icon"></span>
          Installation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Docker Install
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Docker Install
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#system-requirements" class="md-nav__link">
    System requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-docker-and-docker-compose" class="md-nav__link">
    Installing Docker and Docker Compose
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#docker-machine-configuration" class="md-nav__link">
    Docker Machine configuration
  </a>
  
    <nav class="md-nav" aria-label="Docker Machine configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#native-docker" class="md-nav__link">
    Native Docker
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker-toolbox" class="md-nav__link">
    Docker toolbox
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-the-default-docker-machine" class="md-nav__link">
    Use the default Docker Machine
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#git-repository" class="md-nav__link">
    Git repository
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building" class="md-nav__link">
    Building
  </a>
  
    <nav class="md-nav" aria-label="Building">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#make-update" class="md-nav__link">
    Make / Update
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#additional-backend-plugins" class="md-nav__link">
    Additional backend Plugins
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-multiple-instances" class="md-nav__link">
    Running multiple instances
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ssh-firewalled-servers" class="md-nav__link">
    SSH firewalled servers
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-environment" class="md-nav__link">
    Run environment
  </a>
  
    <nav class="md-nav" aria-label="Run environment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#required-to-be-overridden" class="md-nav__link">
    Required to be overridden
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optional" class="md-nav__link">
    Optional
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#environment-notes" class="md-nav__link">
    Environment Notes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#docker-reference" class="md-nav__link">
    Docker Reference
  </a>
  
    <nav class="md-nav" aria-label="Docker Reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#running" class="md-nav__link">
    Running
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../administration/" class="md-nav__link">
        Administration
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../branding/branding/" class="md-nav__link">
        Branding
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../plugins/" class="md-nav__link">
        Plugins
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../migration/" class="md-nav__link">
        Migrating Old Data
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      <label class="md-nav__link" for="__nav_5">
        Developer Resources
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Developer Resources" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Developer Resources
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/architecture/" class="md-nav__link">
        Technical Architecture
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_2" type="checkbox" id="__nav_5_2" >
      
      <label class="md-nav__link" for="__nav_5_2">
        REST API
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="REST API" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_2">
          <span class="md-nav__icon md-icon"></span>
          REST API
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../rest-api/introduction/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../rest-api/authentication/" class="md-nav__link">
        Authentication
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../rest-api/apikeys/" class="md-nav__link">
        API Keys
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../rest-api/errors/" class="md-nav__link">
        Errors
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../rest-api/pagination/" class="md-nav__link">
        Pagination
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../rest-api/postman/" class="md-nav__link">
        Postman Library
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_2_7" type="checkbox" id="__nav_5_2_7" >
      
      <label class="md-nav__link" for="__nav_5_2_7">
        Core resources
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Core resources" data-md-level="3">
        <label class="md-nav__title" for="__nav_5_2_7">
          <span class="md-nav__icon md-icon"></span>
          Core resources
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../rest-api/resources/catalogue-item/" class="md-nav__link">
        Catalogue item
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../rest-api/resources/classifier/" class="md-nav__link">
        Classifier
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../rest-api/resources/codeset/" class="md-nav__link">
        Codeset
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../rest-api/resources/data-class/" class="md-nav__link">
        Data class
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../rest-api/resources/data-element/" class="md-nav__link">
        Data element
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../rest-api/resources/data-flow/" class="md-nav__link">
        Data flow
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../rest-api/resources/data-flow-component/" class="md-nav__link">
        Data flow component
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../rest-api/resources/data-model/" class="md-nav__link">
        Data model
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../rest-api/resources/data-type/" class="md-nav__link">
        Data type
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../rest-api/resources/enumeration-value/" class="md-nav__link">
        Enumeration value
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../rest-api/resources/folder/" class="md-nav__link">
        Folder
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../rest-api/resources/plugin/" class="md-nav__link">
        Plugin
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../rest-api/resources/semantic-link/" class="md-nav__link">
        Semantic link
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../rest-api/resources/term/" class="md-nav__link">
        Term
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../rest-api/resources/term-relationship/" class="md-nav__link">
        Term relationship
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../rest-api/resources/terminology/" class="md-nav__link">
        Terminology
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../rest-api/resources/user/" class="md-nav__link">
        User
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../rest-api/resources/user-group/" class="md-nav__link">
        User group
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../rest-api/trees/" class="md-nav__link">
        Trees
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../rest-api/importexport/" class="md-nav__link">
        Import / Export
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../rest-api/admin/" class="md-nav__link">
        Admin functions
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_3" type="checkbox" id="__nav_5_3" >
      
      <label class="md-nav__link" for="__nav_5_3">
        Client Libraries
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Client Libraries" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_3">
          <span class="md-nav__icon md-icon"></span>
          Client Libraries
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/client/java/" class="md-nav__link">
        Groovy / Java
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/client/typescript/" class="md-nav__link">
        TypeScript
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/client/net/" class="md-nav__link">
        .NET
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_4" type="checkbox" id="__nav_5_4" >
      
      <label class="md-nav__link" for="__nav_5_4">
        Technical Plugins
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Technical Plugins" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_4">
          <span class="md-nav__icon md-icon"></span>
          Technical Plugins
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/freemarker/" class="md-nav__link">
        Freemarker Templating
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/sparql/" class="md-nav__link">
        SPARQL
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      <label class="md-nav__link" for="__nav_6">
        Community
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Community" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Community
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../community/support/" class="md-nav__link">
        Support
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../community/contribute/" class="md-nav__link">
        Contribute
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#system-requirements" class="md-nav__link">
    System requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-docker-and-docker-compose" class="md-nav__link">
    Installing Docker and Docker Compose
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#docker-machine-configuration" class="md-nav__link">
    Docker Machine configuration
  </a>
  
    <nav class="md-nav" aria-label="Docker Machine configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#native-docker" class="md-nav__link">
    Native Docker
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker-toolbox" class="md-nav__link">
    Docker toolbox
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-the-default-docker-machine" class="md-nav__link">
    Use the default Docker Machine
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#git-repository" class="md-nav__link">
    Git repository
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building" class="md-nav__link">
    Building
  </a>
  
    <nav class="md-nav" aria-label="Building">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#make-update" class="md-nav__link">
    Make / Update
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#additional-backend-plugins" class="md-nav__link">
    Additional backend Plugins
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-multiple-instances" class="md-nav__link">
    Running multiple instances
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ssh-firewalled-servers" class="md-nav__link">
    SSH firewalled servers
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-environment" class="md-nav__link">
    Run environment
  </a>
  
    <nav class="md-nav" aria-label="Run environment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#required-to-be-overridden" class="md-nav__link">
    Required to be overridden
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optional" class="md-nav__link">
    Optional
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#environment-notes" class="md-nav__link">
    Environment Notes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#docker-reference" class="md-nav__link">
    Docker Reference
  </a>
  
    <nav class="md-nav" aria-label="Docker Reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#running" class="md-nav__link">
    Running
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Docker Install</h1>
                
                <h2 id="system-requirements">System requirements<a class="headerlink" href="#system-requirements" title="Permanent link">&para;</a></h2>
<p>The simplest installation method is to run our preconfigured application using <a href="https://www.docker.com">Docker</a>.  Any operating 
system, on a server or desktop, running <strong>Docker</strong> can run <strong>Mauro Data Mapper</strong>, but please note that some organisations may restrict the use of 
<strong>Docker</strong> on virtual machines.</p>
<hr />
<h2 id="installing-docker-and-docker-compose">Installing Docker and Docker Compose<a class="headerlink" href="#installing-docker-and-docker-compose" title="Permanent link">&para;</a></h2>
<p>You will need to install <a href="https://www.docker.com/get-started">Docker</a> and <a href="https://github.com/docker/compose">Docker Compose</a>.  <strong>Docker Compose</strong> is 
included as part of the standard <strong>'Docker Desktop'</strong> for Windows and MacOS.</p>
<p>To run <strong>Mauro Data Mapper</strong>, the minimum versions are as follows:</p>
<ul>
<li><strong>Docker Engine:</strong> 19.03.8</li>
<li><strong>Docker Compose:</strong> 1.25.5</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If you're running on Ubuntu the default version of <code>docker-compose</code> installed with apt-get is currently 1.17.1, and you might get the error 
message:
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>Building docker compose
ERROR: Need service name for --build-arg option
</code></pre></div>
</td></tr></table>
In this case, you should uninstall <code>docker-compose</code> and re-install directly from Docker, following 
<a href="https://docs.docker.com/compose/install/">the instructions here</a>.</p>
</div>
<hr />
<h2 id="docker-machine-configuration">Docker Machine configuration<a class="headerlink" href="#docker-machine-configuration" title="Permanent link">&para;</a></h2>
<p>The default <code>docker-machine</code> in a Windows or Mac OS X environment is configured to make use of one CPU and 1GB RAM. This is not enough RAM to 
reliably run the <strong>Mauro Data Mapper</strong> system and so should be increased.</p>
<p>On Linux the docker machine is the host machine so there is no need to build or remove anything.</p>
<h3 id="native-docker">Native Docker<a class="headerlink" href="#native-docker" title="Permanent link">&para;</a></h3>
<p>If using the <strong>Native Docker</strong> then edit the preferences of the <strong>Docker</strong> application and increase the RAM to at least 4GB.
You will probably need to restart <strong>Docker</strong> after doing this.</p>
<h3 id="docker-toolbox">Docker toolbox<a class="headerlink" href="#docker-toolbox" title="Permanent link">&para;</a></h3>
<p>If using the <strong>Docker Toolbox</strong> then you will need to perform the following in a <strong>'docker'</strong> terminal:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="c1"># Stop the default docker machine</span>
$ docker-machine stop default

<span class="c1"># Remove the default machine</span>
$ docker-machine rm default

<span class="c1"># Replace with a more powerful machine (4096 is the minimum recommended RAM, if you can give it more then do so)</span>
$ docker-machine create --driver virtualbox --virtualbox-cpu-count <span class="s2">&quot;-1&quot;</span> --virtualbox-memory <span class="s2">&quot;4096&quot;</span> default
</code></pre></div>
</td></tr></table>
<h3 id="use-the-default-docker-machine">Use the default Docker Machine<a class="headerlink" href="#use-the-default-docker-machine" title="Permanent link">&para;</a></h3>
<p>When controlling using <strong>Docker Machine</strong> via your terminal shell it is useful to set the <code>default</code> docker machine.
Type the following at the command line, or add it to the appropriate bash profile file:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="nb">eval</span> <span class="s2">&quot;</span><span class="k">$(</span>docker-machine env default<span class="k">)</span><span class="s2">&quot;</span>
</code></pre></div>
</td></tr></table>
<p>If not you may see the following error: </p>
<p><code>Cannot connect to the Docker daemon. Is the docker daemon running on this host?</code></p>
<hr />
<h2 id="git-repository">Git repository<a class="headerlink" href="#git-repository" title="Permanent link">&para;</a></h2>
<p>The <strong>Mauro Docker</strong> configuration repository can be found here: 
<a href="https://github.com/MauroDataMapper/mdm-docker">https://github.com/MauroDataMapper/mdm-docker</a>.  </p>
<p>Different branches provide different configurations. We recommend checking out the <code>main</code> branch which will provide the latest releases of back-end and front-end.  Alternatively, you 
can check out a specific tag to install a specific front-end / back-end combination. Tagged releases of <strong>Docker</strong> take the form <code>Ba.b.c_Fx.y.z</code> where 
<code>a.b.c</code> is the tagged version of the back-end and <code>x.y.z</code> is the tagged version of the front-end.</p>
<div class="admonition information">
<p class="admonition-title">Information</p>
<p>If you're running on an internal server with SSH access forbidden by a firewall, you can use the following link to access the repository via 
HTTPS: <a href="https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/using-ssh-over-the-https-port">SSH over HTTPS document</a>.</p>
</div>
<hr />
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>The <strong>Docker Compose</strong> configuration defines two interacting containers: </p>
<ul>
<li>Postgres 12 [<code>postgres</code>] - Postgres Database</li>
<li>Mauro Data Mapper [<code>maurodatamapper</code>] - Mauro Data Mapper</li>
</ul>
<p>The first of these is a standard <strong>Postgres</strong> container with an external volume for persistent storage.  The second builds on the standard <strong>Apache 
Tomcat</strong> container, which hosts built versions of the <strong>Mauro</strong> application.  The <strong>Postgres</strong> container must be running whenever the <strong>Mauro</strong> application 
starts.  The <strong>Mauro</strong> container persists logs and Lucene indexes to shared folders which can be found in the docker repository folder. </p>
<hr />
<h2 id="building">Building<a class="headerlink" href="#building" title="Permanent link">&para;</a></h2>
<p>At present, the Mauro application must be checked out, compiled and deployed within the Mauro / Tomcat container.  Some shell scripts have been 
provided to run this process on a <code>*nix</code> system and are described below.  We plan to streamline this process in the near future.   </p>
<h3 id="make-update">Make / Update<a class="headerlink" href="#make-update" title="Permanent link">&para;</a></h3>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="c1"># Build the entire system</span>
./make

Usage ./make <span class="o">[</span>-b COMMIT_BRANCH<span class="o">]</span> <span class="o">[</span>-f COMMIT_BRANCH<span class="o">]</span>

-b, --back-end COMMIT_BRANCH    : The commit or branch to checkout and build <span class="k">for</span> the back-end from mdm-core
-f, --front-end COMMIT_BRANCH   : The commit or branch to checkout and build <span class="k">for</span> the front-end from mdm-ui
</code></pre></div>
</td></tr></table>
<p>The <code>make</code> command will build all the necessary base images and then perform a <code>docker-compose build</code> to complete the build.  It is preconfigured 
within each branch of the <strong>Mauro Docker</strong> repository, so the <code>-b</code> and <code>-f</code> options only need specifying if you wish to configure a different build 
configuration.</p>
<p>This script runs the following:</p>
<ul>
<li>
<p>Build an updated OS version of tomcat which is where the application will run </p>
<p><code>mdm/tomcat:9.0.27-jdk12-adoptopenjdk-openj9</code></p>
</li>
<li>
<p>Build the base SDK image for building the application in </p>
<p><code>mdm/sdk_base:grails-4.0.6-adoptopenjdk-12-jdk-openj9</code></p>
</li>
<li>
<p>Build an initial image with the code checked out and dependencies installed</p>
<p><code>mdm/mdm_base:develop</code></p>
</li>
</ul>
<p>Once these 3 images are built the main <code>docker-compose</code> service will be able to build without the use of the <code>make</code> file.</p>
<p>An update script can be used to update an existing, running instance to the latest version.  See 
<a href="../administration#updating-to-the-latest-version">Updating to the latest version</a> for more details.  Users should ordinarily use 
the <code>./make</code> 
script once only, and then afterwards only use <code>./update</code>.  However, the <code>./make</code> script can be run again in order to update the base Tomcat build 
image - for example when security fixes have been released.  There is an additional argument for the <code>./make</code> script that will do exactly that:</p>
<p><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>./make -u
</code></pre></div>
</td></tr></table>
which performs a clean build of just the Tomcat image.</p>
<p>Once the <code>./make</code> script has been run once, the commit/branch choice can be altered by changing the build args in the <code>docker-compose.yml</code> file.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>mauro-data-mapper:
    build:
        context: mauro-data-mapper
        args:
            MDM_APPLICATION_COMMIT: develop
            MDM_UI_COMMIT: develop
            ...
</code></pre></div>
</td></tr></table>
<h3 id="additional-backend-plugins">Additional backend Plugins<a class="headerlink" href="#additional-backend-plugins" title="Permanent link">&para;</a></h3>
<p>Additional plugins can be found at the <a href="https://github.com/MauroDataMapper-Plugins">Mauro Data Mapper Plugins</a> organisation page.
Each of these can be added as dependencies by adding them to the <code>ADDITIONAL_PLUGINS</code> build argument within the <code>docker-compose.yml</code> file.  These 
dependencies should be provided in a semi-colon separated list in the gradle style. They will be split and each will be added as a <code>runtimeOnly</code>
dependency.</p>
<p>For example:
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code> mauro-data-mapper:
        build:
            context: mauro-data-mapper
            args:
                ADDITIONAL_PLUGINS: &quot;uk.ac.ox.softeng.maurodatamapper.plugins:mdm-plugin-authentication-keycloak:1.0.1&quot;
</code></pre></div>
</td></tr></table></p>
<p>Will add the keycloak plugin to the <code>dependencies.gradle</code> file:
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>runtimeOnly uk.ac.ox.softeng.maurodatamapper.plugins:mdm-plugin-authentication-keycloak:1.0.1
</code></pre></div>
</td></tr></table></p>
<h3 id="running-multiple-instances">Running multiple instances<a class="headerlink" href="#running-multiple-instances" title="Permanent link">&para;</a></h3>
<p>If running multiple docker-compose instances then they will all make use of the same initial images, therefore you only need to run the <code>./make</code> 
script once per server.</p>
<h3 id="ssh-firewalled-servers">SSH firewalled servers<a class="headerlink" href="#ssh-firewalled-servers" title="Permanent link">&para;</a></h3>
<p>Some servers have the 22 SSH port firewalled for external connections.
If this is the case you can change the <code>base_images/sdk_base/ssh/config</code> file:</p>
<ul>
<li>Comment out the <code>Hostname</code> field that's currently active</li>
<li>Uncomment both commented out <code>Hostname</code> and <code>Port</code> fields, this will allow git to work using the 443 port which will not be blocked</li>
</ul>
<hr />
<h2 id="run-environment">Run environment<a class="headerlink" href="#run-environment" title="Permanent link">&para;</a></h2>
<p>Please see <code>mauro-data-mapper/Dockerfile</code> for all defaults.</p>
<h3 id="required-to-be-overridden">Required to be overridden<a class="headerlink" href="#required-to-be-overridden" title="Permanent link">&para;</a></h3>
<p>The following variables need to be overridden/set when starting up a new mauro-data-mapper image.
Usually this is done in the docker-compose.yml file. It should not be done in the Dockerfile as each instance which starts up may use different
values.</p>
<ul>
<li>
<p><code>MDM_FQ_HOSTNAME</code> </p>
<p>The fully-qualified domain name (FQDN) of the server where the catalogue will be accessed</p>
</li>
<li>
<p><code>MDM_PORT</code> </p>
<p>The port used to access the catalogue</p>
</li>
<li>
<p><code>MDM_AUTHORITY_URL</code> </p>
<p>The full URL to the location of the catalogue. This is considered a unique identifier to distinguish any instance from
  another and therefore no 2 instances should use the same URL</p>
</li>
<li>
<p><code>MDM_AUTHORITY_NAME</code></p>
<p>A unique name used to distinguish a running MDM instance and boostrap an initial Mauro <em>Authority</em></p>
</li>
<li>
<p><code>PGPASSWORD</code></p>
<p>This should be the password for the postgres instance being connected. When using the <code>docker-compose.yml</code> file and the configured
  postgres instance this should be left alone</p>
</li>
<li>
<p><code>EMAIL_USERNAME</code></p>
<p>To allow the catalogue to send emails this needs to be a valid username for the <code>EMAIL_HOST</code></p>
</li>
<li>
<p><code>EMAIL_PASSWORD</code></p>
<p>To allow the catalogue to send emails this needs to be a valid password for the <code>EMAIL_HOST</code> and <code>EMAIL_USERNAME</code></p>
</li>
<li>
<p><code>EMAIL_HOST</code></p>
<p>This is the FQDN of the mail server to use when sending emails</p>
</li>
</ul>
<h3 id="optional">Optional<a class="headerlink" href="#optional" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><code>CATALINA_OPTS</code></p>
<p>Java options to be passed to the <strong>Tomcat</strong> application server</p>
</li>
<li>
<p><code>DATABASE_HOST</code></p>
<p>The host of the database. If using docker-compose this should be left as <code>postgres</code> or changed to the name of the database service</p>
</li>
<li>
<p><code>DATABASE_PORT</code></p>
<p>The port of the database</p>
</li>
<li>
<p><code>DATABASE_NAME</code></p>
<p>The name of the database which the catalogue data will be stored in</p>
</li>
<li>
<p><code>DATABASE_USERNAME</code></p>
<p>Username to connect to the database</p>
</li>
<li>
<p><code>DATABASE_PASSWORD</code></p>
<p>Password to connect to the database</p>
</li>
<li>
<p><code>EMAIL_PORT</code></p>
<p>The port to use when sending emails</p>
</li>
<li>
<p><code>EMAIL_TRANSPORTSTRATEGY</code></p>
<p>The transport strategy to use when sending emails</p>
</li>
<li>
<p><code>SEARCH_INDEX_BASE</code></p>
<p>The directory to store the lucene index files in</p>
</li>
<li>
<p><code>EMAILSERVICE_URL</code></p>
<p>The url to the special email service, this will result in the alternative email system being used</p>
</li>
<li>
<p><code>EMAILSERVICE_USERNAME</code></p>
<p>The username for the email service needs to be valid for <code>EMAIL_SERVICE_URL</code></p>
</li>
<li>
<p><code>EMAILSERVICE_PASSWORD</code></p>
<p>The password for the email service needs to be valid for <code>EMAIL_SERVICE_URL</code></p>
</li>
</ul>
<h3 id="environment-notes">Environment Notes<a class="headerlink" href="#environment-notes" title="Permanent link">&para;</a></h3>
<dl>
<dt><strong>Database</strong></dt>
<dd>The system is designed to use the postgres service provided in the docker-compose file, therefore there should be no need to alter any of
these settings. Only make alterations if running postgres as a separate service outside docker-compose.</dd>
<dt><strong>MDM_FQ_HOSTNAME</strong> &amp; <strong>MDM_PORT</strong></dt>
<dd>The provided values will be used to define the CORS allowed origins. The port will be used to define http or https
(443), if its not 80 or 443 then it will be added to the url generated. The host must be the host used in the web url when accessing the catalogue
in a web browser.</dd>
<dt><strong>Email</strong></dt>
<dd>The standard email properties will allow emails to be sent to a specific SMTP server. The <code>emailservice</code> properties override this and
send the email to the specified email service which will then forward it onto our email SMTP server.</dd>
</dl>
<hr />
<h2 id="docker-reference">Docker Reference<a class="headerlink" href="#docker-reference" title="Permanent link">&para;</a></h2>
<h3 id="running">Running<a class="headerlink" href="#running" title="Permanent link">&para;</a></h3>
<p>Before running please read the <a href="#run-environment">parameters</a> section first.</p>
<p>With <code>docker</code> and <code>docker-compose</code> installed, run the following:</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="c1"># Build all the images</span>
$ docker-compose-dev build

<span class="c1"># Start all the components up</span>
$ docker-compose up -d

<span class="c1"># To only start 1 service</span>
<span class="c1"># This will also start up any of the services the named service depends on (defined by `links` or `depends_on`)</span>
$ docker-compose up <span class="o">[</span>SERVICE<span class="o">]</span>

<span class="c1"># To push all the output to the background add `-d`</span>
$ docker-compose up -d <span class="o">[</span>SERVICE<span class="o">]</span>

<span class="c1"># Stop background running and remove the containers</span>
$ docker-compose down

<span class="c1"># To update an already running service</span>
$ docker-compose-dev build <span class="o">[</span>SERVICE<span class="o">]</span>
$ docker-compose up -d --no-deps <span class="o">[</span>SERVICE<span class="o">]</span>

<span class="c1"># To run in production mode</span>
$ docker-compose-prod up -d <span class="o">[</span>SERVICE<span class="o">]</span>
</code></pre></div>
</td></tr></table>
<p>If you run everything in the background use <code>Kitematic</code> to see the individual container logs.
You can do this if running in the foreground and its easier as it splits each of the containers up.</p>
<p>If only starting a service when you stop, the service docker will <strong>not</strong> stop the dependencies that were started to allow the named service to start.</p>
<p>The default compose file will pull the correct version images from Bintray, or a locally defined docker repository.</p>
<hr />
<p>For more information about administration of your running Docker instance, </p>
<!--  LocalWords:  maurodatamapper Postgres postgres arg mdm ui args
 -->
<!--  LocalWords:  yml mauro Backend Plugins plugins runtimeOnly FQ
 -->
<!--  LocalWords:  gradle keycloak plugin thats Dockerfile FQDN url
 -->
<!--  LocalWords:  PGPASSWORD TRANSPORTSTRATEGY lucene EMAILSERVICE
 -->
<!--  LocalWords:  CORS emailservice mc 1GB 4GB rm virtualbox cpu env
 -->
<!--  LocalWords:  eval ps rmi grep qf rmv Dockviz dockviz nate deps
 -->
<!--  LocalWords:  Kitematic Bintray apk postgresql ENTRYPOINT CMD
 -->
<!--  LocalWords:  arg1 LabKey
 -->
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="../../glossary/glossary/" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Glossary
            </div>
          </div>
        </a>
      
      
        <a href="../administration/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Administration
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright  2021 University of Oxford and Health and Social Care Information Centre, also known as NHS Digital
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../assets/javascripts/workers/search.fe42c31b.min.js", "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.7353b375.min.js"></script>
      
        <script src="../../assets/javascripts/extra.js"></script>
      
    
  </body>
</html>